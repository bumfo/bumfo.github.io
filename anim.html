<!DOCTYPE html>
<title>anim</title>

<style>
	.anim {
		position: -webkit-sticky;
		font: 48px avenir, sans-serif;
		color: rgba(0, 255, 0, 0.5);
		opacity: 1;
	}
</style>

<div class="anim">Anim</div>

<script>
	var anim = document.querySelector('.anim');

	requestAnimationFrame(function(t0) {
		function frame(t1, temp) {
			var t = t1 - t0;

			anim.style.opacity = (1+Math.sin(2*Math.PI*t/1000))/2

			if (!temp)
				requestAnimationFrame(frame);
		}

		window.ontouchmove = function(e) {
			frame(e.timeStamp, true);
		};

		requestAnimationFrame(frame);
	});
</script>
